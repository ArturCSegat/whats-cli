# `init.lua` â€“ WhatsApp CLI Configuration Overview

This file configures keybindings and message rendering for a WhatsApp command-line interface (CLI). It enables customization of how you interact with chats and how messages are displayed in the terminal.

---

## Key Concepts

- **Keybind Tables**: Define keyboard shortcuts for different interface contexts (messages vs. chat list).
- **Render Table**: Controls how messages are visually displayed in the terminal, using styles and colors.
- **Hooks**: Controls behaviour on certain events.

---

### Bindable Actions

#### Messages Keybind Actions

- `"scroll_up"`
- `"scroll_down"`
- `"escape"` -> Goes back to chat list or exits input mode
- `"jump_to_quoted"` -> Jumps to the message the current selected message is quoting
- `"toggle_reply"` -> Toggles reply mode to the current selected message
- `"open_media"` -> Opens the media attached to the selected message on the default browser
- `"forward_message"` -> Forwards the selected message to another chat
- `"delete_message"` -> Deletes the selected message
- `"apend_input"` -> appends a string to the current input
- `"backspace_input"` -> Deletes the last character from the current input
- `"submit_input"` -> Submits the current input as a message

#### Chats Keybind Actions

- `"chat_scroll_up"`
- `"chat_scroll_down"`
- `"chat_escape"` -> Quits the application
- `"chat_select"` -> Selects the highlighted chat and opens it


### Renders

###### Controls how messages are formatted and colored in the terminal.

Your renderer function will receive a message object with the following properties:

```
{
    ["message"] = {
        ["from"] = '[PHONE-NUMBER-OR-GROUPID]@c.us',
        ["type"] = 'chat',
        ["groupMemberFrom"] = '[IF-IN-GROUP-PHONE-OF-MEMBER-ELSE-EMPTY]@c.us' ,
        ["fromMe"] = true,
        ["body"] = 'lol',
        ["timestamp"] = '2025-08-22T01:27:51Z',
        ["groupInvite"] = '',
        ["quoteId"] = '',
        ["id"] = 'MESSAGE-ID-STRING',
        ["hasMedia"] = false,
        ["isQuote"] = false,
        ["isForwarded"] = false,
        ["mentionedIds"] = {
        },
        ["info"] = {
            ["read"] = false,
            ["delivered"] = false,
            ["played"] = false,
        },
    },
    ["info"] = {
            ["height"] = HEIGHT-OF-TERMINAL,
            ["name"] = '[NAME-OF-SENDER] Or You]',
            ["is_selected"] = false,
            ["width"] = WIDTH-OF-TERMINAL,
    },
}
```

You then use this information to generate as well as the functions and styles in `colors.lua` to generate a string. The message screen is generated by concatenating the strings returned by your renderer function for each message.


### Hooks

#### Available Hooks

- `onMsg`: Called when a new message is received. The function receives the received message in the same format as the renderer function.

